<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跨日期内容显示演示 - wc-plugin-daterange</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
        }
        
        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 16px;
        }
        
        .demo-section {
            padding: 30px;
        }
        
        .calendar-container {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: #e0e0e0;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .calendar-header {
            background-color: #f8f9fa;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            color: #495057;
        }
        
        .calendar-day {
            background-color: white;
            min-height: 80px;
            padding: 8px;
            position: relative;
            border: 1px solid #f0f0f0;
        }
        
        .day-number {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
        }
        
        .range-mark {
            background-color: #e6f3ff;
            border: 1px solid #4a90e2;
            border-radius: 3px;
            padding: 2px 6px;
            margin: 1px 0;
            font-size: 11px;
            color: #2c5aa0;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .range-mark:hover {
            background-color: #d1e7ff;
            transform: translateY(-1px);
        }
        
        .span-content-mark {
            position: absolute;
            background-color: #f0f8ff;
            border: 1px solid #4a90e2;
            border-radius: 4px;
            padding: 2px 8px;
            font-size: 12px;
            color: #2c5aa0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 10;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .span-content-mark:hover {
            background-color: #e6f3ff;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-group label {
            font-weight: 600;
            font-size: 14px;
            color: #495057;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }
        
        .info-panel {
            background-color: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-panel h3 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .info-panel p {
            margin: 0;
            color: #6c757d;
            line-height: 1.5;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
        }
        
        .feature-item h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .feature-item p {
            margin: 0;
            color: #6c757d;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-span { background-color: #28a745; }
        .status-single { background-color: #ffc107; }
        
        .code-example {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>跨日期内容显示演示</h1>
            <p>wc-plugin-daterange 插件 - 甘特图式内容展示功能</p>
        </div>
        
        <div class="demo-section">
            <div class="info-panel">
                <h3>功能说明</h3>
                <p>此演示展示了如何使用 wc-plugin-daterange 插件实现内容跨多个日期显示，类似甘特图的效果。内容可以从起始日期开始，横跨整个日期范围，并支持左对齐、居中、右对齐等不同的显示方式。</p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>显示模式</label>
                    <button onclick="toggleSpanMode()">
                        <span class="status-indicator status-span"></span>
                        <span id="spanModeText">跨日期模式</span>
                    </button>
                </div>
                
                <div class="control-group">
                    <label>对齐方式</label>
                    <select id="alignmentSelect" onchange="changeAlignment()">
                        <option value="left">左对齐</option>
                        <option value="center">居中对齐</option>
                        <option value="right">右对齐</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>操作</label>
                    <button onclick="addLongTermTask()">添加长期任务</button>
                </div>
                
                <div class="control-group">
                    <label>样式</label>
                    <button onclick="updateContentStyle()">更新内容样式</button>
                </div>
            </div>
            
            <div class="calendar-container">
                <h3>项目管理甘特图 - 2025年8月</h3>
                <div class="calendar-grid" id="calendar">
                    <!-- 日历头部 -->
                    <div class="calendar-header">日</div>
                    <div class="calendar-header">一</div>
                    <div class="calendar-header">二</div>
                    <div class="calendar-header">三</div>
                    <div class="calendar-header">四</div>
                    <div class="calendar-header">五</div>
                    <div class="calendar-header">六</div>
                    
                    <!-- 日历日期 -->
                    <!-- 这里会通过 JavaScript 动态生成 -->
                </div>
            </div>
            
            <div class="code-example">
                <strong>配置示例：</strong><br>
                <span class="highlight">contentSpanMode: 'span'</span> - 启用跨日期显示<br>
                <span class="highlight">contentAlignment: 'left'</span> - 内容左对齐<br>
                <span class="highlight">spanContentStyle</span> - 自定义跨日期内容样式
            </div>
            
            <div class="feature-list">
                <div class="feature-item">
                    <h4>🎯 跨日期显示</h4>
                    <p>内容可以从起始日期开始，横跨整个日期范围，类似甘特图的任务条。</p>
                </div>
                
                <div class="feature-item">
                    <h4>📐 灵活对齐</h4>
                    <p>支持左对齐、居中对齐、右对齐三种对齐方式，满足不同的显示需求。</p>
                </div>
                
                <div class="feature-item">
                    <h4>🎨 样式定制</h4>
                    <p>提供丰富的样式配置选项，包括背景色、边框、字体、阴影等。</p>
                </div>
                
                <div class="feature-item">
                    <h4>📱 响应式设计</h4>
                    <p>自动适应不同屏幕尺寸，确保在各种设备上都有良好的显示效果。</p>
                </div>
                
                <div class="feature-item">
                    <h4>⚡ 动态操作</h4>
                    <p>支持动态切换显示模式、更新样式、添加/删除任务等操作。</p>
                </div>
                
                <div class="feature-item">
                    <h4>🔧 向后兼容</h4>
                    <p>完全兼容原有的单日期内容显示功能，无需修改现有代码。</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 模拟插件功能
        let currentSpanMode = 'span';
        let currentAlignment = 'left';
        
        // 示例数据
        const projectData = [
            {
                code: 'project-planning',
                name: '项目规划',
                startDate: '2025-08-01',
                endDate: '2025-08-05',
                content: '需求分析、技术选型、团队组建',
                color: '#4a90e2'
            },
            {
                code: 'ui-design',
                name: 'UI设计',
                startDate: '2025-08-04',
                endDate: '2025-08-08',
                content: '原型设计、视觉设计、交互设计',
                color: '#7b68ee'
            },
            {
                code: 'frontend-dev',
                name: '前端开发',
                startDate: '2025-08-07',
                endDate: '2025-08-15',
                content: '组件开发、页面实现、API对接',
                color: '#32cd32'
            },
            {
                code: 'backend-dev',
                name: '后端开发',
                startDate: '2025-08-06',
                endDate: '2025-08-18',
                content: '数据库设计、API开发、服务部署',
                color: '#ff6347'
            },
            {
                code: 'testing',
                name: '测试阶段',
                startDate: '2025-08-12',
                endDate: '2025-08-20',
                content: '功能测试、性能测试、用户验收测试',
                color: '#ffa500'
            }
        ];
        
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const headerCells = calendar.querySelectorAll('.calendar-header');
            
            // 清除现有的日期单元格
            const existingDays = calendar.querySelectorAll('.calendar-day');
            existingDays.forEach(day => day.remove());
            
            // 生成8月份的日历
            for (let day = 1; day <= 31; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                dayCell.innerHTML = `<div class="day-number">${day}</div>`;
                
                const dateStr = `2025-08-${day.toString().padStart(2, '0')}`;
                
                // 添加范围标记和内容
                projectData.forEach((project, index) => {
                    if (dateStr >= project.startDate && dateStr <= project.endDate) {
                        // 添加范围标记
                        const rangeMark = document.createElement('div');
                        rangeMark.className = 'range-mark';
                        rangeMark.textContent = project.name;
                        rangeMark.style.backgroundColor = project.color + '20';
                        rangeMark.style.borderColor = project.color;
                        rangeMark.style.color = project.color;
                        dayCell.appendChild(rangeMark);
                        
                        // 添加跨日期内容（仅在起始日期）
                        if (currentSpanMode === 'span' && dateStr === project.startDate) {
                            const spanContent = document.createElement('div');
                            spanContent.className = 'span-content-mark';
                            spanContent.textContent = project.content;
                            spanContent.style.backgroundColor = project.color + '15';
                            spanContent.style.borderColor = project.color;
                            spanContent.style.color = project.color;
                            
                            // 计算跨度宽度
                            const startDate = new Date(project.startDate);
                            const endDate = new Date(project.endDate);
                            const daysDiff = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
                            const cellWidth = 100; // 假设每个单元格宽度
                            const spanWidth = daysDiff * cellWidth - 10; // 减去间距
                            
                            spanContent.style.width = `${spanWidth}px`;
                            spanContent.style.top = `${30 + index * 20}px`;
                            
                            // 设置对齐方式
                            if (currentAlignment === 'left') {
                                spanContent.style.left = '0px';
                            } else if (currentAlignment === 'center') {
                                spanContent.style.left = '50%';
                                spanContent.style.transform = 'translateX(-50%)';
                            } else {
                                spanContent.style.right = '0px';
                            }
                            
                            dayCell.appendChild(spanContent);
                        }
                    }
                });
                
                calendar.appendChild(dayCell);
            }
        }
        
        function toggleSpanMode() {
            currentSpanMode = currentSpanMode === 'span' ? 'single' : 'span';
            const button = document.querySelector('button[onclick="toggleSpanMode()"]');
            const statusIndicator = button.querySelector('.status-indicator');
            const modeText = document.getElementById('spanModeText');
            
            if (currentSpanMode === 'span') {
                statusIndicator.className = 'status-indicator status-span';
                modeText.textContent = '跨日期模式';
            } else {
                statusIndicator.className = 'status-indicator status-single';
                modeText.textContent = '单日期模式';
            }
            
            generateCalendar();
        }
        
        function changeAlignment() {
            const select = document.getElementById('alignmentSelect');
            currentAlignment = select.value;
            generateCalendar();
        }
        
        function addLongTermTask() {
            const newTask = {
                code: 'maintenance',
                name: '维护期',
                startDate: '2025-08-20',
                endDate: '2025-08-31',
                content: '监控系统运行、用户反馈处理、性能优化',
                color: '#9370db'
            };
            
            projectData.push(newTask);
            generateCalendar();
            alert('已添加长期维护任务！');
        }
        
        function updateContentStyle() {
            const spanContents = document.querySelectorAll('.span-content-mark');
            spanContents.forEach(content => {
                content.style.backgroundColor = '#e6f3ff';
                content.style.border = '2px solid #4a90e2';
                content.style.fontSize = '14px';
                content.style.padding = '4px 12px';
                content.style.fontWeight = '600';
            });
            alert('内容样式已更新！');
        }
        
        // 初始化日历
        generateCalendar();
    </script>
</body>
</html>