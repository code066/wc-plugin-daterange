<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è·¨æ—¥æœŸå†…å®¹æ˜¾ç¤ºæ¼”ç¤º - wc-plugin-daterange</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 28px;
        }
        
        .header p {
            margin: 0;
            opacity: 0.9;
            font-size: 16px;
        }
        
        .demo-section {
            padding: 30px;
        }
        
        .calendar-container {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background-color: #e0e0e0;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .calendar-header {
            background-color: #f8f9fa;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            color: #495057;
        }
        
        .calendar-day {
            background-color: white;
            min-height: 80px;
            padding: 8px;
            position: relative;
            border: 1px solid #f0f0f0;
        }
        
        .day-number {
            font-size: 14px;
            font-weight: 500;
            color: #333;
            margin-bottom: 4px;
        }
        
        .range-mark {
            background-color: #e6f3ff;
            border: 1px solid #4a90e2;
            border-radius: 3px;
            padding: 2px 6px;
            margin: 1px 0;
            font-size: 11px;
            color: #2c5aa0;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .range-mark:hover {
            background-color: #d1e7ff;
            transform: translateY(-1px);
        }
        
        .span-content-mark {
            position: absolute;
            background-color: #f0f8ff;
            border: 1px solid #4a90e2;
            border-radius: 4px;
            padding: 2px 8px;
            font-size: 12px;
            color: #2c5aa0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            z-index: 10;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .span-content-mark:hover {
            background-color: #e6f3ff;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-group label {
            font-weight: 600;
            font-size: 14px;
            color: #495057;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }
        
        .info-panel {
            background-color: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .info-panel h3 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .info-panel p {
            margin: 0;
            color: #6c757d;
            line-height: 1.5;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .feature-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
        }
        
        .feature-item h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .feature-item p {
            margin: 0;
            color: #6c757d;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-span { background-color: #28a745; }
        .status-single { background-color: #ffc107; }
        
        .code-example {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>è·¨æ—¥æœŸå†…å®¹æ˜¾ç¤ºæ¼”ç¤º</h1>
            <p>wc-plugin-daterange æ’ä»¶ - ç”˜ç‰¹å›¾å¼å†…å®¹å±•ç¤ºåŠŸèƒ½</p>
        </div>
        
        <div class="demo-section">
            <div class="info-panel">
                <h3>åŠŸèƒ½è¯´æ˜</h3>
                <p>æ­¤æ¼”ç¤ºå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ wc-plugin-daterange æ’ä»¶å®ç°å†…å®¹è·¨å¤šä¸ªæ—¥æœŸæ˜¾ç¤ºï¼Œç±»ä¼¼ç”˜ç‰¹å›¾çš„æ•ˆæœã€‚å†…å®¹å¯ä»¥ä»èµ·å§‹æ—¥æœŸå¼€å§‹ï¼Œæ¨ªè·¨æ•´ä¸ªæ—¥æœŸèŒƒå›´ï¼Œå¹¶æ”¯æŒå·¦å¯¹é½ã€å±…ä¸­ã€å³å¯¹é½ç­‰ä¸åŒçš„æ˜¾ç¤ºæ–¹å¼ã€‚</p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label>æ˜¾ç¤ºæ¨¡å¼</label>
                    <button onclick="toggleSpanMode()">
                        <span class="status-indicator status-span"></span>
                        <span id="spanModeText">è·¨æ—¥æœŸæ¨¡å¼</span>
                    </button>
                </div>
                
                <div class="control-group">
                    <label>å¯¹é½æ–¹å¼</label>
                    <select id="alignmentSelect" onchange="changeAlignment()">
                        <option value="left">å·¦å¯¹é½</option>
                        <option value="center">å±…ä¸­å¯¹é½</option>
                        <option value="right">å³å¯¹é½</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label>æ“ä½œ</label>
                    <button onclick="addLongTermTask()">æ·»åŠ é•¿æœŸä»»åŠ¡</button>
                </div>
                
                <div class="control-group">
                    <label>æ ·å¼</label>
                    <button onclick="updateContentStyle()">æ›´æ–°å†…å®¹æ ·å¼</button>
                </div>
            </div>
            
            <div class="calendar-container">
                <h3>é¡¹ç›®ç®¡ç†ç”˜ç‰¹å›¾ - 2025å¹´8æœˆ</h3>
                <div class="calendar-grid" id="calendar">
                    <!-- æ—¥å†å¤´éƒ¨ -->
                    <div class="calendar-header">æ—¥</div>
                    <div class="calendar-header">ä¸€</div>
                    <div class="calendar-header">äºŒ</div>
                    <div class="calendar-header">ä¸‰</div>
                    <div class="calendar-header">å››</div>
                    <div class="calendar-header">äº”</div>
                    <div class="calendar-header">å…­</div>
                    
                    <!-- æ—¥å†æ—¥æœŸ -->
                    <!-- è¿™é‡Œä¼šé€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="code-example">
                <strong>é…ç½®ç¤ºä¾‹ï¼š</strong><br>
                <span class="highlight">contentSpanMode: 'span'</span> - å¯ç”¨è·¨æ—¥æœŸæ˜¾ç¤º<br>
                <span class="highlight">contentAlignment: 'left'</span> - å†…å®¹å·¦å¯¹é½<br>
                <span class="highlight">spanContentStyle</span> - è‡ªå®šä¹‰è·¨æ—¥æœŸå†…å®¹æ ·å¼
            </div>
            
            <div class="feature-list">
                <div class="feature-item">
                    <h4>ğŸ¯ è·¨æ—¥æœŸæ˜¾ç¤º</h4>
                    <p>å†…å®¹å¯ä»¥ä»èµ·å§‹æ—¥æœŸå¼€å§‹ï¼Œæ¨ªè·¨æ•´ä¸ªæ—¥æœŸèŒƒå›´ï¼Œç±»ä¼¼ç”˜ç‰¹å›¾çš„ä»»åŠ¡æ¡ã€‚</p>
                </div>
                
                <div class="feature-item">
                    <h4>ğŸ“ çµæ´»å¯¹é½</h4>
                    <p>æ”¯æŒå·¦å¯¹é½ã€å±…ä¸­å¯¹é½ã€å³å¯¹é½ä¸‰ç§å¯¹é½æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒçš„æ˜¾ç¤ºéœ€æ±‚ã€‚</p>
                </div>
                
                <div class="feature-item">
                    <h4>ğŸ¨ æ ·å¼å®šåˆ¶</h4>
                    <p>æä¾›ä¸°å¯Œçš„æ ·å¼é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬èƒŒæ™¯è‰²ã€è¾¹æ¡†ã€å­—ä½“ã€é˜´å½±ç­‰ã€‚</p>
                </div>
                
                <div class="feature-item">
                    <h4>ğŸ“± å“åº”å¼è®¾è®¡</h4>
                    <p>è‡ªåŠ¨é€‚åº”ä¸åŒå±å¹•å°ºå¯¸ï¼Œç¡®ä¿åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½æœ‰è‰¯å¥½çš„æ˜¾ç¤ºæ•ˆæœã€‚</p>
                </div>
                
                <div class="feature-item">
                    <h4>âš¡ åŠ¨æ€æ“ä½œ</h4>
                    <p>æ”¯æŒåŠ¨æ€åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ã€æ›´æ–°æ ·å¼ã€æ·»åŠ /åˆ é™¤ä»»åŠ¡ç­‰æ“ä½œã€‚</p>
                </div>
                
                <div class="feature-item">
                    <h4>ğŸ”§ å‘åå…¼å®¹</h4>
                    <p>å®Œå…¨å…¼å®¹åŸæœ‰çš„å•æ—¥æœŸå†…å®¹æ˜¾ç¤ºåŠŸèƒ½ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ’ä»¶åŠŸèƒ½
        let currentSpanMode = 'span';
        let currentAlignment = 'left';
        
        // ç¤ºä¾‹æ•°æ®
        const projectData = [
            {
                code: 'project-planning',
                name: 'é¡¹ç›®è§„åˆ’',
                startDate: '2025-08-01',
                endDate: '2025-08-05',
                content: 'éœ€æ±‚åˆ†æã€æŠ€æœ¯é€‰å‹ã€å›¢é˜Ÿç»„å»º',
                color: '#4a90e2'
            },
            {
                code: 'ui-design',
                name: 'UIè®¾è®¡',
                startDate: '2025-08-04',
                endDate: '2025-08-08',
                content: 'åŸå‹è®¾è®¡ã€è§†è§‰è®¾è®¡ã€äº¤äº’è®¾è®¡',
                color: '#7b68ee'
            },
            {
                code: 'frontend-dev',
                name: 'å‰ç«¯å¼€å‘',
                startDate: '2025-08-07',
                endDate: '2025-08-15',
                content: 'ç»„ä»¶å¼€å‘ã€é¡µé¢å®ç°ã€APIå¯¹æ¥',
                color: '#32cd32'
            },
            {
                code: 'backend-dev',
                name: 'åç«¯å¼€å‘',
                startDate: '2025-08-06',
                endDate: '2025-08-18',
                content: 'æ•°æ®åº“è®¾è®¡ã€APIå¼€å‘ã€æœåŠ¡éƒ¨ç½²',
                color: '#ff6347'
            },
            {
                code: 'testing',
                name: 'æµ‹è¯•é˜¶æ®µ',
                startDate: '2025-08-12',
                endDate: '2025-08-20',
                content: 'åŠŸèƒ½æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€ç”¨æˆ·éªŒæ”¶æµ‹è¯•',
                color: '#ffa500'
            }
        ];
        
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            const headerCells = calendar.querySelectorAll('.calendar-header');
            
            // æ¸…é™¤ç°æœ‰çš„æ—¥æœŸå•å…ƒæ ¼
            const existingDays = calendar.querySelectorAll('.calendar-day');
            existingDays.forEach(day => day.remove());
            
            // ç”Ÿæˆ8æœˆä»½çš„æ—¥å†
            for (let day = 1; day <= 31; day++) {
                const dayCell = document.createElement('div');
                dayCell.className = 'calendar-day';
                dayCell.innerHTML = `<div class="day-number">${day}</div>`;
                
                const dateStr = `2025-08-${day.toString().padStart(2, '0')}`;
                
                // æ·»åŠ èŒƒå›´æ ‡è®°å’Œå†…å®¹
                projectData.forEach((project, index) => {
                    if (dateStr >= project.startDate && dateStr <= project.endDate) {
                        // æ·»åŠ èŒƒå›´æ ‡è®°
                        const rangeMark = document.createElement('div');
                        rangeMark.className = 'range-mark';
                        rangeMark.textContent = project.name;
                        rangeMark.style.backgroundColor = project.color + '20';
                        rangeMark.style.borderColor = project.color;
                        rangeMark.style.color = project.color;
                        dayCell.appendChild(rangeMark);
                        
                        // æ·»åŠ è·¨æ—¥æœŸå†…å®¹ï¼ˆä»…åœ¨èµ·å§‹æ—¥æœŸï¼‰
                        if (currentSpanMode === 'span' && dateStr === project.startDate) {
                            const spanContent = document.createElement('div');
                            spanContent.className = 'span-content-mark';
                            spanContent.textContent = project.content;
                            spanContent.style.backgroundColor = project.color + '15';
                            spanContent.style.borderColor = project.color;
                            spanContent.style.color = project.color;
                            
                            // è®¡ç®—è·¨åº¦å®½åº¦
                            const startDate = new Date(project.startDate);
                            const endDate = new Date(project.endDate);
                            const daysDiff = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
                            const cellWidth = 100; // å‡è®¾æ¯ä¸ªå•å…ƒæ ¼å®½åº¦
                            const spanWidth = daysDiff * cellWidth - 10; // å‡å»é—´è·
                            
                            spanContent.style.width = `${spanWidth}px`;
                            spanContent.style.top = `${30 + index * 20}px`;
                            
                            // è®¾ç½®å¯¹é½æ–¹å¼
                            if (currentAlignment === 'left') {
                                spanContent.style.left = '0px';
                            } else if (currentAlignment === 'center') {
                                spanContent.style.left = '50%';
                                spanContent.style.transform = 'translateX(-50%)';
                            } else {
                                spanContent.style.right = '0px';
                            }
                            
                            dayCell.appendChild(spanContent);
                        }
                    }
                });
                
                calendar.appendChild(dayCell);
            }
        }
        
        function toggleSpanMode() {
            currentSpanMode = currentSpanMode === 'span' ? 'single' : 'span';
            const button = document.querySelector('button[onclick="toggleSpanMode()"]');
            const statusIndicator = button.querySelector('.status-indicator');
            const modeText = document.getElementById('spanModeText');
            
            if (currentSpanMode === 'span') {
                statusIndicator.className = 'status-indicator status-span';
                modeText.textContent = 'è·¨æ—¥æœŸæ¨¡å¼';
            } else {
                statusIndicator.className = 'status-indicator status-single';
                modeText.textContent = 'å•æ—¥æœŸæ¨¡å¼';
            }
            
            generateCalendar();
        }
        
        function changeAlignment() {
            const select = document.getElementById('alignmentSelect');
            currentAlignment = select.value;
            generateCalendar();
        }
        
        function addLongTermTask() {
            const newTask = {
                code: 'maintenance',
                name: 'ç»´æŠ¤æœŸ',
                startDate: '2025-08-20',
                endDate: '2025-08-31',
                content: 'ç›‘æ§ç³»ç»Ÿè¿è¡Œã€ç”¨æˆ·åé¦ˆå¤„ç†ã€æ€§èƒ½ä¼˜åŒ–',
                color: '#9370db'
            };
            
            projectData.push(newTask);
            generateCalendar();
            alert('å·²æ·»åŠ é•¿æœŸç»´æŠ¤ä»»åŠ¡ï¼');
        }
        
        function updateContentStyle() {
            const spanContents = document.querySelectorAll('.span-content-mark');
            spanContents.forEach(content => {
                content.style.backgroundColor = '#e6f3ff';
                content.style.border = '2px solid #4a90e2';
                content.style.fontSize = '14px';
                content.style.padding = '4px 12px';
                content.style.fontWeight = '600';
            });
            alert('å†…å®¹æ ·å¼å·²æ›´æ–°ï¼');
        }
        
        // åˆå§‹åŒ–æ—¥å†
        generateCalendar();
    </script>
</body>
</html>